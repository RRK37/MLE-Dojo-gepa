# MLE-STAR Full Configuration (Default)
# This is the full configuration. For MVP, use config_mlestar_mvp.yaml
# Complete workflow with all features: Search → Foundation → Full Refinement → Iterative Ensemble → Comprehensive Validation

# Output directory for agent results and logs
output_dir: "output/"

# Competition settings
competition:
  name: "dog-breed-identification"
  data_dir: "data/prepared"

# Environment settings
env:
  render_mode: "human"
  gpu_device: 0
  gpu_memory_limit: 32
  execution_timeout: 14400  # 4 hours for full workflow
  score_mode: "position"
  max_steps: 50  # Full: More steps for comprehensive workflow

# Agent Type
agent_type: "mlestar"

# Agent configuration (AIDE-style for workspace management)
agent:
  # LLM Configuration
  model_mode: "claude"  # Options: claude, openai, gemini
  model_name: "claude-opus-4-5"  # Latest Claude Opus 4.5 (released Nov 24, 2025) - best for MLE-STAR
  max_completion_tokens: 8192
  max_prompt_tokens: 30000
  api_idx: 0
  api_key: ""  # Set via ANTHROPIC_API_KEY environment variable
  
  # AIDE-style config
  steps: 50  # Full: More steps for comprehensive workflow
  data_preview: true
  expose_prediction: false
  k_fold_validation: 1

# MLE-STAR Full Configuration
# Following PaperMethod.md full specification:
# 1. Web Search: 3+ iterations with comprehensive research
# 2. Merging: Full sequential merge from Algorithm 1
# 3. Refinement: Full Algorithm 2 with T outer loops and K inner loops
# 4. Ensemble: Iterative ensemble planning (Algorithm 3) with R iterations
# 5. Validation: Comprehensive debugging + strict leakage/usage checks
mlestar:
  # Search Phase (Full: 3+ iterations)
  search_iterations: 3
  num_models_to_retrieve: 5  # Full: Retrieve more models for better coverage
  
  # Refinement Phase (Full: Complete Algorithm 2 with inner loop)
  refinement_iterations: 5  # Full: T outer loop steps (Algorithm 2)
  inner_refinement_steps: 3  # Full: K inner loop steps - multiple refinement plans per block
  
  # Ensemble Phase (Full: Iterative ensemble planning)
  ensemble_iterations: 3  # Full: R ensemble loop steps (Algorithm 3) - iterative planning
  
  # Data handling
  subsample_size: 30000

# API Keys (should be set as environment variables)
# - PERPLEXITY_API_KEY (for web search)
# - ANTHROPIC_API_KEY (for Claude LLM - REQUIRED)
